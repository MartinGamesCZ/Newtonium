(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8705:function(t,e,n){Promise.resolve().then(n.bind(n,4077))},4077:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var s=n(7437),a=n(6648),i=n(9715),c=n.n(i),l=n(2265);function r(t){let{screen:e,state:n,setState:a}=t,i=function(t,e,n,a){switch(t){case"select":return(0,s.jsx)(o,{screen:e,state:n,setState:a});case"text":return(0,s.jsx)(d,{screen:e,state:n});case"input":return(0,s.jsx)(u,{screen:e,state:n,setState:a});case"checkbox":return(0,s.jsx)(x,{screen:e,state:n,setState:a})}}(e.type,e,n,a);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:e.title}),i]})}function o(t){let{screen:e,state:n,setState:a}=t;return(0,s.jsx)("select",{onChange:t=>a(n=>(n[e.state_id]=t.target.value,n)),children:("object"==typeof e.options?e.options:e.options(n)).map(t=>{let[e,n]=t;return(0,s.jsx)("option",{value:n,children:e},n)})})}function d(t){let{state:e,screen:n}=t;return(0,s.jsx)("p",{children:"string"==typeof n.text?n.text.split("\n").map((t,e,n)=>(0,s.jsxs)(s.Fragment,{children:[t,e<n.length-1&&(0,s.jsx)("br",{})]})):n.text(e).split("\n").map((t,e,n)=>(0,s.jsxs)(s.Fragment,{children:[t,e<n.length-1&&(0,s.jsx)("br",{})]}))})}function u(t){let{screen:e,state:n,setState:a}=t,[i,c]=(0,l.useState)(n[e.state_id]||e.default);return(0,l.useEffect)(()=>{n[e.state_id]||(a(t=>(t[e.state_id]=e.default,t)),c(e.default))},[e.default]),(0,l.useEffect)(()=>{i!==n[e.state_id]&&a(t=>(t[e.state_id]=i,t))},[i]),(0,s.jsx)("input",{type:"text",value:i,onChange:t=>{c(t.target.value)}})}function x(t){let{screen:e,state:n,setState:a}=t,[i,c]=(0,l.useState)(n[e.state_id]||e.default);return(0,l.useEffect)(()=>{n[e.state_id]||(a(t=>(t[e.state_id]=e.default,t)),c(e.default))},[e.default]),(0,l.useEffect)(()=>{i!==n[e.state_id]&&a(t=>(t[e.state_id]=i,t))},[i]),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:t=>{c(t.target.checked)}}),(0,s.jsx)("p",{children:"string"==typeof e.text?e.text:e.text(n)})]})}let p="ni_screen"in window?window.ni_screen:[{id:"language",title:"Select your language",type:"$/language",back:{disabled:!0},next:{title:"Next",screen:"location"}},{id:"location",title:"Choose install location",type:"$/location",back:{title:"Back",screen:"language"},next:{title:"Next",screen:"shortcut"}},{id:"shortcut",title:"Configure shortcuts",type:"$/shortcut",back:{title:"Back",screen:"location"},next:{title:"Next",screen:"details"}},{id:"details",title:"Check details",type:"$/details",back:{title:"Back",screen:"shortcut"},next:{title:"Install",action:"$/install"}},{id:"error",title:"Error",type:"$/error",back:{disabled:!0},next:{title:"Retry",screen:"language"}},{id:"done",title:"Done",type:"$/done",back:{title:"Close",action:"$/close"},next:{title:"Launch app",action:"$/launch"}},{id:"progress",title:"Installing",type:"$/progress",back:{disabled:!0},next:{disabled:!0}}],h={screen:{language:{title:"Select your language",type:"select",options:[["English","en"],["Čeština","cs"]],state_id:"language"},location:{title:"Choose install location",type:"input",default:window.nai.default_location,state_id:"location"},shortcut:{title:"Configure shortcuts",type:"checkbox",text:"Create desktop shortcut",default:!0,state_id:"shortcut"},details:{title:"Check details",type:"text",text:t=>"Location: ".concat(t.location,"\nShortcut: ").concat(t.shortcut?"Yes":"No"),state_id:"details"},error:{title:"Error",type:"text",text:t=>t.error,state_id:"error"},done:{title:"Done",type:"text",text:"Installation complete",state_id:"done"},progress:{title:"Installing",type:"text",text:"Please wait...",state_id:"progress"}},action:{install:(t,e)=>{e("progress"),window.ipc.postMessage("install;"+JSON.stringify(t))},close:()=>{window.ipc.postMessage("close;{}")},launch:(t,e)=>{window.ipc.postMessage("launch;"+JSON.stringify(t))}}};function g(){let[t,e]=(0,l.useState)("language"),[n,i]=(0,l.useState)({}),o=p.find(e=>e.id==t),d=h.screen[o.type.split("/")[1]];return(0,l.useEffect)(()=>{window.setStatus=t=>{switch(t.type){case"ok":e("done");break;case"err":e("error"),i({error:t.data});break;case"unknown":e("error"),i({error:"Unknown error\n"+t.data});break;case"progress":e("progress")}}},[]),(0,s.jsxs)("div",{className:c().root,children:[(0,s.jsxs)("div",{className:c().header,children:[(0,s.jsx)("div",{children:(0,s.jsx)(a.default,{src:"nai://nai_res"+window.nai.icon,alt:"logo",width:100,height:100})}),(0,s.jsx)("div",{children:(0,s.jsx)("h1",{children:window.nai.title})})]}),(0,s.jsx)("div",{className:c().body,children:(0,s.jsx)(r,{screen:d,state:n,setState:i})}),(0,s.jsxs)("div",{className:c().buttons,children:[(0,s.jsx)("button",{onClick:()=>{o.back&&!o.back.disabled&&(o.back.action?h.action[o.back.action.split("/")[1]](n,e):e(o.back.screen))},style:o.back&&o.back.disabled?{display:"none"}:{},children:o.back&&o.back.title?o.back.title:"Back"}),(0,s.jsx)("button",{onClick:()=>{o.next&&!o.next.disabled&&(o.next.action?h.action[o.next.action.split("/")[1]](n,e):e(o.next.screen))},style:o.next&&o.next.disabled?{display:"none"}:{},children:o.next&&o.next.title?o.next.title:"Next"})]})]})}},9715:function(t){t.exports={root:"page_root__ckbAs",header:"page_header__8kWA1",body:"page_body__Kr85W",buttons:"page_buttons__v_7MC"}}},function(t){t.O(0,[829,648,971,23,744],function(){return t(t.s=8705)}),_N_E=t.O()}]);